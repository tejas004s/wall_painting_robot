<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wall Painting Robot - Trajectory Planner</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Wall Painting Robot Planner</h1>
            <p>Intelligent trajectory planning with obstacle avoidance</p>
        </div>

        <div class="main-content">
            <div class="controls-panel">
                <!-- Wall Configuration -->
                <div class="control-section">
                    <h3>Wall Configuration</h3>
                    <div class="control-group">
                        <label>Width (m):</label>
                        <input type="number" id="wallWidth" value="10" min="1" max="50" step="0.5">
                    </div>
                    <div class="control-group">
                        <label>Height (m):</label>
                        <input type="number" id="wallHeight" value="6" min="1" max="50" step="0.5">
                    </div>
                    <div class="control-group">
                        <label>Coverage Width (m): <span class="range-value" id="coverageValue">0.15</span></label>
                        <input type="range" id="coverageWidth" value="0.15" min="0.05" max="0.5" step="0.05">
                    </div>
                </div>

                <!-- Obstacle Management -->
                <div class="control-section">
                    <h3>Obstacle Management</h3>
                    <div class="mode-toggle">
                        <button class="mode-btn active" id="drawMode">Draw Mode</button>
                        <button class="mode-btn" id="removeMode">Remove Mode</button>
                    </div>
                    <div class="obstacle-list" id="obstacleList">
                        <div style="text-align: center; color: #999; padding: 20px;">
                            Click and drag on canvas to add obstacles
                        </div>
                    </div>
                    <button class="btn btn-danger" id="clearObstacles">Clear All Obstacles</button>
                </div>

                <!-- Actions -->
                <div class="control-section">
                    <h3>Actions</h3>
                    <button class="btn btn-primary" id="generateBtn">
                        <span>Generate Trajectory</span>
                    </button>
                    <button class="btn btn-secondary" id="animateBtn" disabled>
                        <span>Animate Path</span>
                    </button>
                    <button class="btn btn-secondary" id="stopBtn" disabled>
                        <span>Stop Animation</span>
                    </button>
                </div>

                <!-- Animation Speed -->
                <div class="control-section">
                    <h3>Animation Settings</h3>
                    <div class="speed-control">
                        <label>Speed:</label>
                        <input type="range" id="animationSpeed" value="70" min="0" max="100" step="1">
                        <span class="range-value" id="speedValue">70</span>
                    </div>
                </div>

                <!-- Status -->
                <div class="control-section">
                    <h3>Status</h3>
                    <div class="status-bar">
                        <div class="status-indicator" id="statusIndicator"></div>
                        <span id="statusText">Ready</span>
                    </div>
                </div>
            </div>

            <div class="visualization-panel">
                <!-- Stats -->
                <div class="stats-grid">
                    <div class="stat-card purple">
                        <div class="stat-label">Waypoints</div>
                        <div class="stat-value" id="waypointCount">0</div>
                    </div>
                    <div class="stat-card blue">
                        <div class="stat-label">Path Length</div>
                        <div class="stat-value" id="pathLength">0m</div>
                    </div>
                    <div class="stat-card green">
                        <div class="stat-label">Coverage</div>
                        <div class="stat-value" id="coveragePercent">0%</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Duration</div>
                        <div class="stat-value" id="generationTime">0s</div>
                    </div>
                    <!-- NEW: animation time -->
                    <div class="stat-card orange">
                        <div class="stat-label">Anim Time</div>
                        <div class="stat-value" id="animationTime">0s / 0s</div>
                    </div>
                </div>

                <!-- Canvas -->
                <div class="canvas-container">
                    <canvas id="canvas" width="1000" height="600"></canvas>
                </div>

                <!-- Legend -->
                <div class="legend">
                    <div class="legend-item">
                        <div class="legend-color" style="background: #dc3545;"></div>
                        <span>Obstacles</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background: #007bff;"></div>
                        <span>Paint Path</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background: #ffc107;"></div>
                        <span>Move Path</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background: #28a745; border-radius: 50%;"></div>
                        <span>Robot Position</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="toast" id="toast">
        <span id="toastMessage"></span>
    </div>

    <script src="script.js"></script>
</body>
</html>